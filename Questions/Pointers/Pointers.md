<div dir="rtl">

# مقدمه‌ای بر متغیرها و سیستم باس

در زبان برنامه‌نویسی C، وقتی یک متغیر تعریف می‌کنیم، چندین مولفه داره که هر کدوم از این مولفه‌ها در مراحل مختلف نوشتن کد و اجرای اون اهمیت دارن. در این مقاله، ابتدا به بررسی این مولفه‌ها خواهیم پرداخت و بعد به مفهوم سیستم باس و نحوه عملکرد اون در ارتباط با حافظه و پردازنده خواهیم رسید.

## مولفه‌های یک متغیر

1. **اسم (Name):**
   - **چیست؟** اسم متغیر همون شناسه‌ایه که ما برای شناسایی متغیر در کد استفاده می‌کنیم.
   - **مورد استفاده:** در حین نوشتن کد (Compile-time) برای شناسایی و دسترسی به متغیرها.
   - **مثال:** وقتی می‌نویسیم 
   ```c
   int x;
   ``` 
   `x` اسم متغیر است.

2. **نوع داده (Type):**
   - **چیست؟** نوع داده مشخص می‌کنه که متغیر چه نوع داده‌ای رو می‌تونه نگه‌داری کنه و چه عملیاتی می‌تونیم روی اون انجام بدیم.
   - **مورد استفاده:** در حین نوشتن کد و زمان اجرا (Runtime) برای تخصیص حافظه و انجام عملیات‌ها.
   - **مثال:** 
   ```c
   int a; 
   float b;
   char c;
   double d;
   ``` 
   هر کدوم نوع داده‌های متفاوتی هستن. مثلاً `int` برای اعداد صحیح استفاده می‌شه و `float` برای اعداد اعشاری.

3. **مقدار (Value):**
   - **چیست؟** مقدار متغیر داده‌ایه که در آن ذخیره می‌شه. این مقدار می‌تونه ثابت یا متغیر باشه.
   - **مورد استفاده:** در زمان اجرا (Runtime) که ممکن است تغییر کند.
   - **مثال:** وقتی می‌نویسیم 

<div dir="ltr">

   ```c
   int x = 5;
   ``` 
</div>

   در اینجا 5 مقدار اولیه متغیر `x` است.

4. **آدرس (Address):**
   - **چیست؟** آدرس مکان متغیر در حافظه است. این آدرس به CPU کمک می‌کند تا داده‌ها را پیدا کند.
   - **مورد استفاده:** در زمان اجرا (Runtime) به سیستم این امکان را می‌دهد که به داده‌ها دسترسی داشته باشد.
   - **مثال:** 
<div dir="ltr">

   ```c
   int *ptr = &x; // آدرس متغیر x
   ``` 
</div>

5. **سایز (Size):**
   - **چیست؟** سایز مشخص می‌کند که متغیر چقدر فضای حافظه اشغال می‌کند. سایز متغیر به نوع داده‌ای که برای آن تعریف شده بستگی دارد.
   - **مورد استفاده:** در زمان اجرا (Runtime) برای تخصیص حافظه.
   - **مثال:** 
<div dir="ltr">
   ```c
   sizeof(int) // معمولاً 4 بایت برمی‌گردونه
   ``` 
</div>

6. **محدوده (Scope):**
   - **چیست؟** محدوده یا Scope تعیین می‌کند که یک متغیر در کجا قابل دسترسی است.
   - **مورد استفاده:** در زمان نوشتن کد (Compile-time) برای تعیین این که متغیر در چه قسمت‌هایی از کد قابل دسترسی است.
   - **مثال:** اگر یک متغیر در یک تابع تعریف شود، تنها در همان تابع قابل دسترسی است.

## چرا نیاز به آدرس داریم؟

با توجه به این مولفه‌ها، سوالی که به وجود می‌آید این است که چرا گاهی اوقات نیاز به دسترسی به آدرس متغیرها داریم؟ 

- **دسترسی به داده‌ها:** در برنامه‌های پیچیده، ممکن است داده‌هایی که نیاز داریم در مکان‌های مختلف حافظه ذخیره شده باشند. با داشتن آدرس، می‌توانیم به راحتی به این داده‌ها دسترسی پیدا کنیم.
- **مدیریت حافظه:** در برنامه‌های پیچیده، ممکن است نیاز داشته باشیم تا حافظه را به صورت دینامیک مدیریت کنیم. به کمک آدرس‌ها و پوینترها می‌توانیم حافظه را بهینه‌تر استفاده کنیم.
- **استفاده از الگوریتم‌های پیشرفته:** بسیاری از الگوریتم‌ها و داده‌ساختارها نیاز به دسترسی به آدرس‌ها دارند، مانند لیست‌های پیوندی و درخت‌ها.

---

## سیستم باس: پایه‌گذار ارتباطات

### مرحله اول: حافظه تک‌بایتی و Data Bus

در ابتدا، فرض کنید که یک سیستم بسیار ساده داریم که فقط **یک بایت حافظه** دارد. این بایت می‌تواند 8 بیت داده را نگهداری کند. برای نوشتن داده در این بایت، از **Data Bus** استفاده می‌کنیم.

#### Data Bus چیست؟
**Data Bus**، یک مجموعه‌ای از سیم‌هاست که داده‌ها را بین CPU و حافظه منتقل می‌کند. هر بایت، 8 بیت داده دارد، بنابراین Data Bus معمولاً 8 سیم دارد.

### تصویر حافظه تک‌بایتی با Data Bus:

<div dir="ltr">

```
        ----+-------+-------+-------+-------+------+-------+-------+------+-------> DataBus (8 wire)
        |       |       |       |       |       |       |       |
|   +-------+-------+-------+-------+-------+-------+-------+-------+     |
|   | Bit 0 | Bit 1 | Bit 2 | Bit 3 | Bit 4 | Bit 5 | Bit 6 | Bit 7 | B1  |
|   +-------+-------+-------+-------+-------+-------+-------+-------+     |
|_________________________________________________________________________|
```
</div>

### نوشتن داده در حافظه

فرض کنیم که می‌خواهیم عدد 42 را در این بایت ذخیره کنیم. CPU از Data Bus برای انتقال این عدد به حافظه استفاده می‌کند.

---

### مرحله دوم: Control Bus و R/W

برای اینکه سیستم بداند باید داده‌ای را بخواند یا بنویسد، از **Control Bus** استفاده می‌کنیم. سیگنال **R/W** (خواندن یا نوشتن) از این طریق ارسال می‌شود.

#### Control Bus چیست؟
**Control Bus** مسئول ارسال سیگنال‌های کنترلی است که مشخص می‌کند عملیات باید **خواندن** (Read) باشد یا **نوشتن** (Write).

### تصویر با Control Bus:

<div dir="ltr">

```
        ----+-------+-------+-------+-------+------+-------+-------+------+-------> DataBus (8 wire)
        |       |       |       |       |       |       |       |
|   +-------+-------+-------+-------+-------+-------+-------+-------+     |
|   | Bit 0 | Bit 1 | Bit 2 | Bit 3 | Bit 4 | Bit 5 | Bit 6 | Bit 7 | B1  |-------+-------+ ControlBus
|   +-------+-------+-------+-------+-------+-------+-------+-------+     |
|_________________________________________________________________________|
```
</div>

### خواندن داده از حافظه

1. CPU سیگنال R/W را روی "Read" تنظیم می‌کند.
2. حافظه داده‌ی ذخیره‌شده (مثلاً 42) را از طریق Data Bus به CPU برمی‌گرداند.

---

### مرحله سوم: حافظه چندبایتی و Address Bus

حالا فرض کنید حافظه‌ی سیستم ما به **8 بایت** افزایش پیدا کرده است. در این حالت، CPU باید بداند کدام خونه حافظه را بخواند یا بنویسد. **Address Bus** به ما کمک می‌کند که آدرس خونه‌ی حافظه‌ای که CPU می‌خواهد با آن کار کند را مشخص کنیم.

#### Address Bus چیست؟
**Address Bus** مجموعه‌ای از سیم‌هاست که آدرس خونه‌ی حافظه‌ای که CPU می‌خواهد با آن کار کند را مشخص می‌کند.

### تصویر حافظه چندبایتی با Address Bus:

<div dir="ltr">

```
        ----+-------+-------+-------+-------+------+-------+-------+------+-------> DataBus (8 wire)
        |       |       |       |       |       |       |       |
|   +-------+-------+-------+-------+-------+-------+-------+-------+       |
|   | Bit 0 | Bit 1 | Bit 2 | Bit 3 | Bit 4 | Bit 5 | Bit 6 | Bit 7 |   B1  |-------+-------+ ControlBus (2 wire)
|   +-------+-------+-------+-------+-------+-------+-------+-------+       |
|   +-------+-------+-------+-------+-------+-------+-------+-------+       |-------+-------+ AddressBus (log2(n) wire)
|   | Bit 0 | Bit 1 | Bit 2 | Bit 3 | Bit 4 | Bit 5 | Bit 6 | Bit 7 |   B2  |
|   +-------+-------+-------+-------+-------+-------+-------+-------+       |
|                                   .                                       |
|                                   .                                       |
|                                   .                                       |
|   +-------+-------+-------+-------+-------+-------+-------+-------+       |
|   | Bit 0 | Bit 1 | Bit 2 | Bit 3 | Bit 4 | Bit 5 | Bit 6 | Bit 7 |   Bn  |
|   +-------+-------+-------+-------+-------+-------+-------+-------+       |
|___________________________________________________________________________|
```
</div>

### نوشتن داده در بایت مشخص

1. CPU تصمیم می‌گیرد که عدد 42 را در Byte1 بنویسد.
2. Address Bus آدرس Byte1 را به حافظه می‌فرستد.
3. Data Bus عدد 42 را به Byte1 می‌فرستد و حافظه آن را ذخیره می‌کند.

---

## نتیجه‌گیری

تا اینجا متوجه شدیم که سیستم باس چطور به CPU این امکان را می‌دهد که با حافظه ارتباط برقرار کند. با درک درست این مفاهیم، حالا می‌توانیم به بررسی **پوینترها** بپردازیم و ببینیم که چگونه می‌توانیم به آدرس‌های حافظه دسترسی پیدا کنیم و داده‌ها را مدیریت کنیم. در بخش‌های بعدی، به انواع مختلف پوینترها، کاربردهای آن‌ها و مثال‌های عملی می‌پردازیم.


## این مقاله در حال بروزرسانی میباشد...


## آرایه‌ها

| شماره | سوال                                                                                                                                                                                                                                                                     | بارم‌بندی |
| ----- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| 1     | تابعی بنویسید که محتویات یک آرایه از اعداد صحیح را چاپ کند                                                                                                                                                                                                               | 1        |
| 2     | تابعی بنویسید که یک آرایه از اعدا صحیح و یک عدد دریافت و تمام خانه های آن را برابر با آن مقدار قرار دهد.                                                                                                                                                                 | 1        |
| 3     | تابعی بنویسید محتویات یک آرایه از اعداد صحیح را در آرایه ی دیگر کپی نماید، سایز آرایه می تواند متغیر باشد                                                                                                                                                                | 2        |
| 4     | تابعی بنویسید که محتوای یک آرایه از اعداد صحیح را از هر مکان دلخواهی در آرایه یدوم کپی نماید                                                                                                                                                                             | 2        |
| 5     | تابعی بنویسید که محتویات یک آرایه را معکوس نماید                                                                                                                                                                                                                         | 2        |
| 6     | تابعی بنویسید که محتویات یک ارایه را به صورت معکوس درون آرایه دوم کپی نماید                                                                                                                                                                                              | 3        |
| 7     | تابعی بنویسید که یک عدد را درون یک آرایه پیدا نماید و آدرس مکان آن را بر گرداند                                                                                                                                                                                          | 2        |
| 8     | تابعی بنویسید که دو آرایه را با هم مقایسه نماید و حالات زیر را بر گرداند (مقایسه دو آرایه به صورت عضو به عضو صورت می گیرد)                                                                                                                                               | 3        |
| 9     | تابعی بنیوسید که یک پترن (دنباله ی اعداد) را درون یک آرایه ی بزرگتر پیدا نماید و مکان شروع آن را برگرداند                                                                                                                                                                | 4        |
| 10    | تابعی بنویسید که یک آیتم (عدد) را به درون یک آرایه اضافه نماید، تعاداد آیتم ها مغیر می باشد اما حداکثر تعداد آیتم درون آرایه ثابت و برابر با طول آرایه می باشد (مثال: آرایه ای با طول حداکثر 10 عضو و دارا بودن 5 عضو پس از افزودن یک عضو دارای 6 عضو معتبر می باشد)     | 3        |
| 11    | تابعی بنویسید که یک آیتم (عدد) را از یک آرایه حذف نماید                                                                                                                                                                                                                  | 3        |
| 13    | تابعی بنویسید که در یک آرایه ی مرتب شده با استفاده از الگوریتم باینری سرچ دنبال عددی بگردد و ایندکس مکان عدد را بر گرداند                                                                                                                                                | 4        |
| 14    | تابعی بنویسید که میانگین اعداد یک آرایه از اعداد صحیح را محاسبه کند.                                                                                                                                                                                                     | 2        |
| 15    | تابعی بنویسید که بزرگترین و کوچکترین عنصر یک آرایه را پیدا نماید.                                                                                                                                                                                                        | 3        |
| 16    | تابعی بنویسید که تکرارهای یک عنصر خاص در یک آرایه را محاسبه نماید.                                                                                                                                                                                                       | 3        |
| 17    | یک آرایه دو بعدی از اعداد صحیح ایجاد کنید و تابعی بنویسید که میانگین اعداد هر سطر را داخل یک ارایه دیگر ذخیره نماید.                                                                                                                                                     | 4        |
| 18    | تابعی بنویسید که یک ارایه از اعداد صحیح دریافت کرده و اعلام نماید این آرایه یک آرایه پالیندروم (تقارنی) است یا خیر.                                                                                                                                                      | 3        |
| 19    | تابعی بنویسید که یک ارایه دریافت نماید و اعداد را به ترتیب صعودی و نزولی مرتب نمیاد (صعودی یا نزولی بودن قابل انتخاب است)                                                                                                                                                | 4        |
| 20    | تابعی بنویسید که دو آرایه دریافت نماید و بزرگترین عنصر مشترک دو آرایه را باز گرداند.                                                                                                                                                                                     | 4        |
| 21    | تابعی بنویسید که یک ارایه از اعداد صحیح دریاقت نمیاد و عناصر تکراری را از آرایه حذف کند.                                                                                                                                                                                 | 3        |
| 22    | تابعی بنویسید که یک آرایه پویا (dynamic array) با ظرفیت اولیه n ایجاد کند. سپس توابعی برای اضافه کردن، حذف کردن و تغییر اندازه‌ی آرایه به شکلی پویا و بهینه بنویسید. باید بتوان از این آرایه به عنوان یک لیست استفاده کرد و عملیات اضافه و حذف به صورت دینامیک انجام شود. | 5        |
| 23    | تابعی بنویسید که یک آرایه و یک عدد دریافت کند و بزرگترین زیرآرایه‌ای که مجموع آن برابر با عدد داده شده باشد را پیدا کند و اندیس‌های شروع و پایان آن را برگرداند.                                                                                                           | 5        |



 
## رشته‌ها

| شماره | سوال                                                                                                                                                                                                                           | بارم‌بندی |
| ----- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| 1     | تابعی بنویسید که یک رشته را درون رشته ای دیگر کپی نماید                                                                                                                                                                        | 1        |
| 2     | تابعی بنویسید که یک رشته را به انتهای رشته ای دیگر اضافه نماید                                                                                                                                                                 | 1        |
| 3     | تابعی بنویسید که دو رشته را مقایسه نماید و حالات زیر را برگرداند                                                                                                                                                               | 2        |
| 4     | تابعی بنویسد که یک حرف را درون رشته ای پیدا نماید و آدرس مکان آن را برگرداند                                                                                                                                                   | 2        |
| 5     | تابعی بنویسید که طول یک رشته را برگرداند                                                                                                                                                                                       | 1        |
| 6     | تابعی بنویسید که یک رشته را درون رشته ای بزرگتر پیدا و مکان شروع آن را برگرداند                                                                                                                                                | 3        |
| 7     | تابعی بنوییسد که دو رشته را با طول مشخص با هم مقایسه نماید                                                                                                                                                                     | 2        |
| 8     | تابعی بنویسد که یک رشته را درون یک متن (رشته ای بزرگتر) با یک رشته ای دیگر جایگزین نماید                                                                                                                                       | 4        |
| 9     | تابعی بنویسید که یک آرایه از رشته ها دریافت کند و آن را به دو صورت کوچک به بزرگ و بزرگ به کوچک مرتب نماید                                                                                                                      | 4        |
| 10    | تابعی بنویسید که یک رشته را درون آرایه ای از رشته ها پیدا نماید و ایندکس آن را بر گرداند                                                                                                                                       | 3        |
| 11    | تابعی بنویسید که یک رشته را درون آرایه از رشته های مرتب شده با استفاده از الگوریتم باینری سرچ پیدا نماید و ایندکس آن را برگرداند                                                                                               | 4        |
| 12    | تابعی بنویسد که آرایه از رشته ها را در یافت نموده و درون یک متن (رشته ای بزرگ) جستجو نماید و هرکدام از رشته ها که اول به آن بر خورد را مکان شروع آن درون رشته ی بزرگتر و ایندکس آن رشته را برگرداند                            | 4        |
| 13    | تابعی بنویسید که از الگوریتم Knuth-Morris-Pratt برای پیدا کردن تمام وقوعات یک رشته (Pattern) درون یک رشته بزرگتر (Text) استفاده کند و اندیس‌های شروع هر وقوع را برگرداند.                                                       | 5        |
| 14    | پیاده‌سازی رمزنگاری سزار (Caesar Cipher): تابعی بنویسید که یک رشته و یک عدد دریافت کند و آن رشته را با استفاده از رمزنگاری سزار رمزگذاری و رمزگشایی کند. این تابع باید قادر باشد هر دو عملیات رمزگذاری و رمزگشایی را انجام دهد. | 5        |
| 15    | پیاده‌سازی الگوریتم Longest Common Subsequence: تابعی بنویسید که دو رشته دریافت کند و طول بلندترین زیررشته مشترک (LCS) آن‌ها را پیدا کند. این الگوریتم باید بهینه و با استفاده از برنامه‌ریزی پویا پیاده‌سازی شود.                 | 5        |
| 16    | تابعی بنویسید که یک آرایه از رشته ها دریافت کند و آن را به دو صورت کوچک به بزرگ و بزرگ به کوچک مرتب نماید                                                                                                                      | 5        |


</div>

